---
author: yuanshuai
created: 2021-09-四 15:35:42
aliases: 
description:
tags: [设计模式]
---

# 工厂方法（Factory Method）和抽象工厂模式（Abstract Factory）




# 分类
- 简单工厂
- 工厂模式
- 抽象工厂

## 简单工厂模式

不是23种里的一种，简而言之，就是有一个专门生产某个产品的类。
比如下图中的鼠标工厂，专业生产鼠标，给参数0，生产戴尔鼠标，给参数1，生产惠普鼠标。

![](https://yanshixiao-markdown.oss-cn-beijing.aliyuncs.com/09067f878916c0e4377bfadc82afc248_r.jpg)
可以使用反射来优化，每次添加新产品就不需要再动工厂方法。

但同时，如果上述方法传递的参数（没用反射之前）出错，那么就可能无法正确创建对象，一般直接在工厂类中创建多个方法，分别生产不同的对象（dell鼠标和hp鼠标）。再进一步，将这些方法设成静态的更方便，即==静态工厂方法模式==。

## 工厂模式

工厂模式也就是鼠标工厂是个父类，有生产鼠标这个接口。
戴尔鼠标工厂，惠普鼠标工厂继承它，可以分别生产戴尔鼠标，惠普鼠标。
生产哪种鼠标不再由参数决定，而是创建鼠标工厂时，由戴尔鼠标工厂创建。
后续直接调用鼠标工厂.生产鼠标()即可

![](https://yanshixiao-markdown.oss-cn-beijing.aliyuncs.com/69ab924585b751cb9e7bc7b7f9f2179b_r.jpg)

## 抽象工厂模式

抽象工厂模式也就是不仅生产鼠标，同时生产键盘。  也就是PC厂商是个父类，有生产鼠标，生产键盘两个接口。  戴尔工厂，惠普工厂继承它，可以分别生产戴尔鼠标+戴尔键盘，和惠普鼠标+惠普键盘。  创建工厂时，由戴尔工厂创建。  后续工厂.生产鼠标()则生产戴尔鼠标，工厂.生产键盘()则生产戴尔键盘。


![](https://yanshixiao-markdown.oss-cn-beijing.aliyuncs.com/ab2a90cfcc7a971b1e3127d1f531a486_r.jpg)

> 抽象工厂中一般通过初始化或读取配置文件的方式决定创建哪个具体工厂。